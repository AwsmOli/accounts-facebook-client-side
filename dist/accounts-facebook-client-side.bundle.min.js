(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var Accounts=Package["accounts-base"].Accounts;var Facebook=Package.facebook.Facebook;(function(){Accounts.oauth.registerService("facebook");if(Meteor.isClient){Meteor.loginWithFacebook=function(options,callback){if(!callback&&typeof options==="function"){callback=options;options=null}var credentialRequestCompleteCallback=Accounts.oauth.credentialRequestCompleteHandler(callback);Facebook.requestCredential(options,credentialRequestCompleteCallback)}}else{Accounts.addAutopublishFields({forLoggedInUser:["services.facebook"],forOtherUsers:["services.facebook.id","services.facebook.username","services.facebook.gender"]})}}).call(this);if(typeof Package==="undefined")Package={};Package["accounts-facebook"]={}})();Accounts=Package["accounts-base"].Accounts;